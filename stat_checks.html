<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Running statistical checks with pygwb_stats &mdash; pygwb 1.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/tabs.css?v=a5c4661c" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=0264ad83"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=4825356b"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="The pygwb workflow" href="workflow.html" />
    <link rel="prev" title="Running multiple pygwb_pipe jobs" href="multiple_jobs.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/pygwb_logo_plasma_cropped.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">About <code class="docutils literal notranslate"><span class="pre">pygwb</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="tutorials.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="pipeline.html">Using <code class="docutils literal notranslate"><span class="pre">pygwb_pipe</span></code>: a quickstart manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="multiple_jobs.html">Running multiple <code class="docutils literal notranslate"><span class="pre">pygwb_pipe</span></code> jobs</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Running statistical checks with <code class="docutils literal notranslate"><span class="pre">pygwb_stats</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#script-parameters"><strong>1. Script parameters</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-the-script"><strong>2. Running the script</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="#output-of-the-script"><strong>3. Output of the script</strong></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="workflow.html">The <code class="docutils literal notranslate"><span class="pre">pygwb</span></code> workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="pe.html">Parameter estimation using <code class="docutils literal notranslate"><span class="pre">pygwb_pe</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="simulator.html">Simulating data with <code class="docutils literal notranslate"><span class="pre">pygwb.simulator</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="demos.html">Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference external" href="https://arxiv.org/pdf/2303.15696.pdf">pygwb paper</a></li>
<li class="toctree-l1"><a class="reference internal" href="citing.html">Citing <code class="docutils literal notranslate"><span class="pre">pygwb</span></code></a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/a-renzini/pygwb">GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing guide</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/a-renzini/pygwb/issues/new">Submit an issue</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pygwb</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="tutorials.html">Tutorials</a></li>
      <li class="breadcrumb-item active">Running statistical checks with <code class="docutils literal notranslate"><span class="pre">pygwb_stats</span></code></li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/stat_checks.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="running-statistical-checks-with-pygwb-stats">
<h1>Running statistical checks with <code class="docutils literal notranslate"><span class="pre">pygwb_stats</span></code><a class="headerlink" href="#running-statistical-checks-with-pygwb-stats" title="Permalink to this heading"></a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">pygwb.statistical_checks</span></code> module provides a way to visualize the results of an analysis run. Through a series of plots, it offers the possibility
to check the results for statistical consistency. The module itself is detailed in the <a class="reference external" href="api/pygwb.statistical_checks.html">module documentation</a>. Here,
we provide some information on how to run <code class="docutils literal notranslate"><span class="pre">pygwb_stats</span></code>, a script that calls the statistical checks module and generates all the relevant plots.</p>
<section id="script-parameters">
<h2><strong>1. Script parameters</strong><a class="headerlink" href="#script-parameters" title="Permalink to this heading"></a></h2>
<p>To obtain information about the parameters of the <code class="docutils literal notranslate"><span class="pre">pygwb_stats</span></code> script, one can execute the following command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pygwb_stats<span class="w"> </span>--help
</pre></div>
</div>
<p>This displays the optional arguments that can be passed to the script:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>-c<span class="w"> </span>COMBINE_FILE_PATH,<span class="w"> </span>--combine_file_path<span class="w"> </span>COMBINE_FILE_PATH
<span class="w">                      </span>combined<span class="w"> </span>file<span class="w"> </span>containing<span class="w"> </span>spectra
-dsc<span class="w"> </span>DSC_FILE_PATH,<span class="w"> </span>--dsc_file_path<span class="w"> </span>DSC_FILE_PATH
<span class="w">                      </span>delta<span class="w"> </span>sigma<span class="w"> </span>cut<span class="w"> </span>file<span class="w"> </span>containing<span class="w"> </span>sigmas<span class="w"> </span>and<span class="w"> </span>more
-pd<span class="w"> </span>PLOT_DIR,<span class="w"> </span>--plot_dir<span class="w"> </span>PLOT_DIR
<span class="w">                      </span>Directory<span class="w"> </span>where<span class="w"> </span>plots<span class="w"> </span>should<span class="w"> </span>be<span class="w"> </span>saved
-pf<span class="w"> </span>PARAM_FILE,<span class="w"> </span>--param_file<span class="w"> </span>PARAM_FILE
<span class="w">                      </span>Parameter<span class="w"> </span>file<span class="w"> </span>used<span class="w"> </span>during<span class="w"> </span>analysis
-fs<span class="w"> </span>FONT_SIZE,<span class="w"> </span>--font_size<span class="w"> </span>FONT_SIZE
<span class="w">                      </span>Primary<span class="w"> </span>label<span class="w"> </span>font<span class="w"> </span>size
-fcoh<span class="w"> </span>COHERENCE_FILE_PATH,<span class="w"> </span>--coherence_file_path<span class="w"> </span>COHERENCE_FILE_PATH
<span class="w">                      </span>Path<span class="w"> </span>to<span class="w"> </span>coherence<span class="w"> </span>file.<span class="w"> </span>If<span class="w"> </span>passed,<span class="w"> </span>automatically<span class="w"> </span>triggers<span class="w"> </span>the<span class="w"> </span>plot<span class="w"> </span>coherences<span class="w"> </span>option.
-t<span class="w"> </span>TAG,<span class="w"> </span>--tag<span class="w"> </span>TAG<span class="w">     </span>Tag<span class="w"> </span>to<span class="w"> </span>use<span class="w"> </span>when<span class="w"> </span>saving<span class="w"> </span>files
-co<span class="w"> </span>CONVENTION,<span class="w"> </span>--convention<span class="w"> </span>CONVENTION
<span class="w">                      </span>Overall<span class="w"> </span>convention<span class="w"> </span>to<span class="w"> </span>use<span class="w"> </span><span class="k">in</span><span class="w"> </span>plots
</pre></div>
</div>
<p>A brief explanation of the parameters is given in the code snippet above, and we provide some additional information in the section below when calling the
<code class="docutils literal notranslate"><span class="pre">pygwb_stats</span></code> script.</p>
</section>
<section id="running-the-script">
<h2><strong>2. Running the script</strong><a class="headerlink" href="#running-the-script" title="Permalink to this heading"></a></h2>
<p>After running the <code class="docutils literal notranslate"><span class="pre">pygwb_combine</span></code> script (as explained <a class="reference external" href="multiple_jobs.html#combining-runs-with-pygwb-combine">here</a>), the script will have produced a file that looks similar to</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>point_estimate_sigma_spectra_alpha_0.0_fref_25_t0-tf.npz
</pre></div>
</div>
<p>This file contains the combined spectra, where the notation indicates it was run with a spectral index of 0,
reference frequency of 25 Hz, and t0 and tf would be actual numbers corresponding to the start and end time of the analysis, respectively.
This file should be passed to the <code class="docutils literal notranslate"><span class="pre">pygwb_stats</span></code> through the <code class="docutils literal notranslate"><span class="pre">-c</span></code> argument.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">pygwb</span></code> analysis was run with the delta-sigma cut turned on, a file <code class="docutils literal notranslate"><span class="pre">delta_sigma_cut_t0-tf</span></code> should be present in the output directory as well.
This can be passed through the <code class="docutils literal notranslate"><span class="pre">-dsc</span></code> argument.</p>
<p>The directory where the plots should be saved is passed through <code class="docutils literal notranslate"><span class="pre">-pd</span></code>, whereas the parameter file that was used during the <code class="docutils literal notranslate"><span class="pre">pygwb</span></code> analysis, i.e.,
the one passed to <code class="docutils literal notranslate"><span class="pre">pygwb_pipe</span></code>, should be passed through <code class="docutils literal notranslate"><span class="pre">-pf</span></code>. The label font size can be changed, by using the <code class="docutils literal notranslate"><span class="pre">-fs</span></code> option. Finally, the coherence file,
if computed during the <code class="docutils literal notranslate"><span class="pre">pygwb_pipe</span></code> run, can also be passed via <code class="docutils literal notranslate"><span class="pre">-fcoh</span></code>, which will create a series of additional plots related to the coherence.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">pygwb_stats</span></code> script can be run using, for example, the following line of code:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pygwb_stats<span class="w"> </span>-c<span class="w"> </span><span class="o">{</span>my_combine_file_path<span class="o">}</span><span class="w"> </span>-dsc<span class="w"> </span><span class="o">{</span>my_dsc_file_path<span class="o">}</span><span class="w"> </span>-pd<span class="w"> </span><span class="o">{</span>my_plotting_directory<span class="o">}</span><span class="w"> </span>-pf<span class="w"> </span><span class="o">{</span>my_param_file_path<span class="o">}</span>
</pre></div>
</div>
<p>The script produces some output, which is saved in the output directory specified through the <code class="docutils literal notranslate"><span class="pre">-pd</span></code> argument.</p>
</section>
<section id="output-of-the-script">
<h2><strong>3. Output of the script</strong><a class="headerlink" href="#output-of-the-script" title="Permalink to this heading"></a></h2>
<p>The output of the <code class="docutils literal notranslate"><span class="pre">pygwb_stats</span></code> script contains a series of plots, atuomatically saved to <code class="docutils literal notranslate"><span class="pre">png</span></code> format, in the provided plotting directory <code class="docutils literal notranslate"><span class="pre">-pd</span></code>. The plots follow the naming convention <code class="docutils literal notranslate"><span class="pre">{ifo_1}{ifo_2}-{t0}-{tf}-{content_of_plot}.png</span></code>.
Each of these plots illustrates some quantities that provide insights on the statistical quality and behavior of various quantities of interest of the analysis.
We refrain from giving a plot by plot discussion of the various figures here, and refer the user to the dedicated demo on this topic <a class="reference external" href="run_statistical_checks.html">here</a>.
In addition, several quantities of interest are saved to file for further follow-up (see <a class="reference external" href="api/pygwb.statistical_checks.StatisticalChecks.html#pygwb.statistical_checks.StatisticalChecks.save_all_statements">here</a>).</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>More information on the <code class="docutils literal notranslate"><span class="pre">pygwb.statistical_checks</span></code> module can be found <a class="reference external" href="api/pygwb.statistical_checks.html">here</a>.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Make sure to check out the <a class="reference external" href="run_statistical_checks.html">demo</a> about the interpretation of the results, and the relevant sections in the <a class="reference external" href="https://arxiv.org/pdf/2303.15696.pdf">pygwb paper</a>.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="multiple_jobs.html" class="btn btn-neutral float-left" title="Running multiple pygwb_pipe jobs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="workflow.html" class="btn btn-neutral float-right" title="The pygwb workflow" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Arianna Renzini, Sylvia Biscoveanu, Shivaraj Khandasamy, Kamiel Janssens, Max Lalleman, Katarina Martinovic, Andrew Matas, Patrick Meyers, Alba Romero, Colm Talbot, Leo Tsukada, Kevin Turbang.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>